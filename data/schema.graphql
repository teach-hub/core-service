schema {
  query: RootQueryType
  mutation: RootMutationType
}

"""Summary of courses viewer belongs belongs to"""
type CourseSummaryType {
  id: String!
  name: String!
  period: Int!

  """Role the user has within a course"""
  role: RoleType!

  """Subject the course belongs to"""
  subject: SubjectType!
  year: Int!
}

"""Courses viewer belongs belongs to"""
type CourseType {
  active: Boolean!
  id: String!
  name: String!
  organization: String!
  period: Int!

  """Role the user has within a course"""
  role: RoleType!

  """Subject the course belongs to"""
  subject: SubjectType!

  """Users in course"""
  users: [UserType]!
  year: Int!
}

type RoleType {
  active: Boolean
  id: String
  name: String
  parent: RoleType
  permissions: [String]
}

"""Root mutation"""
type RootMutationType {
  """Updates a user"""
  updateUser(file: String, githubId: String, lastName: String, name: String, notificationEmail: String, userId: ID!): UserType
}

"""Root query"""
type RootQueryType {
  """Logged in user"""
  viewer: ViewerType
}

type SubjectType {
  active: Boolean
  code: String
  id: String
  name: String
}

"""A non-admin user within TeachHub"""
type UserType {
  active: Boolean
  file: String
  githubId: String
  id: String
  lastName: String
  name: String
  notificationEmail: String
}

type ViewerType {
  active: Boolean!
  courses: [CourseSummaryType]!
  file: String!

  """Finds a course for the viewer"""
  findCourse(id: String!): CourseType
  githubId: String!
  id: String!
  lastName: String!
  name: String!
  notificationEmail: String!
}
